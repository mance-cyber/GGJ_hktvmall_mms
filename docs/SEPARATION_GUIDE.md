# GoGoJap HKTVmall AI System - 分離交接指南

> 本文檔說明技術方與甲方分離時的交接流程，確保雙方好嚟好去。

## 架構分離設計

```
┌─────────────────────────────────────────────────────────────┐
│                     技術方資產（可抽離）                       │
├─────────────────────────────────────────────────────────────┤
│  • 源代碼 (frontend/, backend/)                              │
│  • 架構設計文檔                                               │
│  • CI/CD Pipeline 配置                                       │
│  • Docker 構建配置                                            │
│  • 技術知識產權                                               │
└─────────────────────────────────────────────────────────────┘
                              ↓ 完全解耦
┌─────────────────────────────────────────────────────────────┐
│                     甲方資產（保留）                          │
├─────────────────────────────────────────────────────────────┤
│  • PostgreSQL 數據庫 + 業務數據                               │
│  • Redis 數據                                                │
│  • 雲端帳戶及基礎設施                                          │
│  • 第三方 API 帳戶 (Firecrawl, OpenAI 等)                     │
│  • 域名、SSL 證書                                            │
└─────────────────────────────────────────────────────────────┘
```

## 分離前準備清單

### 技術方需確認

- [ ] 所有配置均通過環境變數，無硬編碼
- [ ] `.env.template` 已更新至最新
- [ ] 數據庫文檔 (`DATABASE_SCHEMA.md`) 已更新
- [ ] 最後一次成功部署的 Docker 鏡像已標記

### 甲方需準備

- [ ] 確認擁有所有雲端帳戶的管理員權限
- [ ] 確認擁有數據庫連接資訊
- [ ] 確認擁有所有第三方 API 的帳戶密碼
- [ ] 決定分離後的處理方式

## 分離流程

### 步驟 1：通知期（建議 30 天）

```
技術方：發出正式分離通知
甲方：確認收到，開始準備
```

### 步驟 2：數據備份

```bash
# 技術方協助甲方備份數據庫
pg_dump -h [host] -U [user] -d [database] -Fc > backup_$(date +%Y%m%d).dump

# 驗證備份
pg_restore --list backup_$(date +%Y%m%d).dump
```

### 步驟 3：權限交接

| 項目 | 動作 |
|------|------|
| Git Repository | 技術方移除甲方部署權限 |
| Docker Registry | 最後版本鏡像留給甲方 |
| 雲端帳戶 | 確認甲方有管理員權限 |
| CI/CD | 停止自動部署 |

### 步驟 4：服務停止

```
1. 停止 CI/CD Pipeline
2. 保留最後運行的容器（可選）
3. 或停止所有容器
```

### 步驟 5：文檔交付

交付給甲方的文檔：

1. `DATABASE_SCHEMA.md` - 數據庫結構說明
2. `.env.template` - 環境配置範本
3. 最後的系統操作手冊（如有）

## 甲方分離後選項

### 選項 A：系統停用

```
• 停止所有服務
• 保留數據庫備份
• 可選：導出重要數據為 CSV
```

### 選項 B：購買源代碼

```
• 協商源代碼買斷價格
• 技術方交付完整源代碼
• 甲方可自行維護或外包
```

### 選項 C：找新開發者接手

```
前提：需先購買源代碼
       或
       新開發者基於 DATABASE_SCHEMA.md 重寫系統

成本估算：
• 理解現有 schema：1-2 週
• 重寫後端系統：4-8 週
• 重寫前端系統：4-6 週
• 測試與調試：2-4 週
• 總計：約 3-5 個月
```

## 數據歸屬確認

| 數據類型 | 歸屬 | 說明 |
|---------|------|------|
| 業務數據 | 甲方 | 包括商品、價格、警報等 |
| 用戶數據 | 甲方 | 如有用戶系統 |
| 日誌數據 | 甲方 | 系統運行日誌 |
| 源代碼 | 技術方 | 除非買斷 |
| 數據庫結構設計 | 技術方設計，甲方可使用 | Schema 知識產權 |

## 重要提醒

### 對技術方

1. **不要刪除甲方數據** - 數據屬於甲方
2. **保留最後穩定版本的鏡像** - 給甲方過渡期
3. **提供必要技術支持** - 確保備份成功
4. **文檔要完整** - 專業負責的態度

### 對甲方

1. **備份數據** - 分離前必須完成
2. **確認帳戶權限** - 所有雲端帳戶
3. **評估選項** - 決定後續處理方式
4. **保持溝通** - 有問題及時提出

## 分離確認書

分離完成後，雙方簽署確認：

```
分離確認書

日期：_____________

技術方確認：
- [ ] 已停止所有部署權限
- [ ] 已交付所有必要文檔
- [ ] 已協助完成數據備份

甲方確認：
- [ ] 已收到數據庫備份
- [ ] 已確認擁有所有帳戶權限
- [ ] 已收到技術文檔
- [ ] 已決定後續處理方式：______________

技術方簽名：_____________
甲方簽名：_____________
```

## 聯繫方式

分離後如有技術問題需要諮詢：

- 緊急支援：另行協商
- 一般諮詢：按次收費或維護合約
- 重新合作：隨時歡迎

---

*本文檔旨在確保雙方專業、友好地完成分離，維護良好的商業關係。*
