# 類別數據庫 - 快速開始指南

> 10 分鐘上手類別批量抓取和 AI 分析

---

## 🚀 5 步驟快速開始

### 步驟 1：準備 HKTVmall 類別 URL

找到你想抓取的類別頁面，例如：

```
和牛類:
https://www.hktvmall.com/hktv/zh/search?q=wagyu

急凍肉類:
https://www.hktvmall.com/hktv/zh/main/food-beverage/frozen-food/frozen-meat

海鮮類:
https://www.hktvmall.com/hktv/zh/main/food-beverage/seafood
```

### 步驟 2：創建類別數據庫

**前端操作**：
1. 進入「類別數據庫管理」頁面
2. 點擊「+ 新增類別」
3. 填寫表單：
   - 名稱：和牛類
   - URL：（貼上類別頁面 URL）
   - 勾選「創建後立即抓取」
4. 點擊「創建並抓取」

**API 調用**（開發者）：
```bash
curl -X POST http://localhost:8000/api/v1/categories \
  -H "Content-Type: application/json" \
  -d '{
    "name": "和牛類",
    "hktv_category_url": "https://www.hktvmall.com/...",
    "description": "日本和牛及相關商品"
  }'
```

### 步驟 3：等待抓取完成

**系統會自動**：
1. 發現該類別下所有商品 URL（1-2 分鐘）
2. 批量抓取每個商品詳情（5-10 分鐘）
3. 提取並標準化屬性
4. 計算單價
5. 儲存到數據庫

**進度通知**：
```
┌─────────────────────────────────────┐
│ 🔄 正在抓取「和牛類」                │
├─────────────────────────────────────┤
│                                     │
│ 已發現: 85 個商品                   │
│ 已抓取: 42 / 85                     │
│ 失敗: 2                             │
│                                     │
│ 預計剩餘時間: 3 分鐘                │
│                                     │
│ ████████████░░░░░░░░ 50%           │
└─────────────────────────────────────┘
```

### 步驟 4：查看抓取結果

**前端操作**：
1. 收到通知「✓ 抓取完成：85 個商品」
2. 點擊「查看商品」
3. 瀏覽商品列表
4. 可按價格、單價、評分排序

**你會看到**：
- 📊 商品總數：85 個
- 💰 價格範圍：$188 - $2,580
- 📈 平均單價：$168 / 100g
- ⭐ 平均評分：4.6 ★

### 步驟 5：AI 市場分析

**前端操作**：
1. 點擊「AI 分析」按鈕
2. 等待 1-2 分鐘
3. 查看分析報告

**你會獲得**：
- 📊 價格分佈分析
- 🏆 競爭格局分析
- 💡 市場機會識別
- 🎯 定價建議

---

## 💡 實用範例

### 範例 1：和牛類市場分析

**目標**：了解和牛市場，為新品定價

**操作流程**：
```
1. 創建「和牛類」數據庫
   └─ URL: HKTVmall 和牛分類頁面

2. 抓取完成後查看數據
   ├─ 總商品數: 85 個
   ├─ 價格範圍: $188 - $2,580
   └─ 平均單價: $168 / 100g

3. AI 分析發現
   ├─ 主要品牌: Premium Wagyu, Kobe Premium
   ├─ 產地: 日本 53%, 澳洲 35%, 美國 12%
   └─ 價格空白區: $150-180 / 100g

4. 定價決策
   └─ 新品定價: $165 / 100g (500g = $825)
      理由: 填補價格空白區，中高端定位
```

---

### 範例 2：急凍肉類競爭分析

**目標**：評估市場競爭狀況

**操作流程**：
```
1. 創建「急凍肉類」數據庫

2. 抓取 142 個商品

3. AI 分析揭示
   ├─ 平均折扣: 20%
   ├─ 主要價格帶: $35-120
   └─ 小份量 (200-300g) 商品稀少

4. 策略建議
   ├─ 推出小份量包裝（200g, 300g）
   ├─ 定價略低於市場平均
   └─ 主打便利性
```

---

### 範例 3：海鮮類新品開發

**目標**：發現市場空白，開發新品

**操作流程**：
```
1. 創建「海鮮類」數據庫

2. 抓取並分析

3. AI 發現機會
   └─ 冷凍刺身類商品很少
      價格: $80-150 / 份
      需求: 存在但選擇少

4. 行動計劃
   ├─ 引進日本冷凍刺身
   ├─ 定價: $120 / 份
   └─ 主打品質 + 便利性
```

---

## 📊 數據應用場景

### 場景 A：新品定價

**問題**：新商品不知道如何定價

**解決方案**：
1. 查看同類別的價格分佈
2. 找到目標價格帶
3. 參考 AI 定價建議
4. 設定具競爭力的價格

**範例**：
```
查詢: 和牛類 → 日本 A5 等級 → 西冷部位
結果:
  市場價格: $180-220 / 100g
  AI 建議: $195 / 100g

你的定價: $190 / 100g ✓
```

---

### 場景 B：促銷策略

**問題**：不知道折扣應該給多少

**解決方案**：
1. 查看同類商品折扣分佈
2. 了解市場平均折扣
3. 根據庫存和目標決定折扣力度

**範例**：
```
查詢: 急凍肉類 → 折扣分佈
結果:
  平均折扣: 20%
  常見範圍: 15-30%

促銷策略:
  庫存積壓 → 30% 折扣 (高於平均)
  一般促銷 → 20% 折扣 (符合市場)
```

---

### 場景 C：市場機會

**問題**：想找新的商機

**解決方案**：
1. 查看多個類別的 AI 分析
2. 重點關注「市場機會」部分
3. 識別空白市場

**範例**：
```
AI 發現:
  和牛類 → $150-180 價格帶商品少
  海鮮類 → 小份量包裝稀少
  保健品 → 日本品牌平價組合缺乏

行動:
  引進填補空白的商品
  搶佔先機
```

---

## 🔧 進階操作

### 定期更新數據

**設定自動抓取**：
```
頻率選項:
☐ 每天 1 次
☑ 每週 1 次 (推薦)
☐ 每月 1 次
☐ 手動觸發
```

**最佳實踐**：
- 熱門類別：每週更新
- 一般類別：每月更新
- 季節性商品：促銷期每天更新

---

### 跨類別對比

**操作**：
1. 選擇多個類別
2. 點擊「對比分析」
3. 查看差異

**可對比維度**：
- 價格分佈
- 折扣力度
- 品牌集中度
- 市場成熟度

---

### 匯出數據

**支援格式**：
- 📄 PDF 報告（給老闆看）
- 📊 Excel 數據（深入分析）
- 📈 PowerPoint（做簡報）

**匯出內容**：
- 商品清單
- 價格分佈圖表
- AI 分析報告
- 定價建議

---

## ⚠️ 注意事項

### 1. 首次抓取時間

不同類別抓取時間不同：
- 小類別 (< 50 個商品)：3-5 分鐘
- 中類別 (50-150 個商品)：5-10 分鐘
- 大類別 (> 150 個商品)：10-20 分鐘

**建議**：首次抓取在非工作時間進行

---

### 2. API 配額消耗

每個商品抓取消耗 1 credit：
- 和牛類 (85 個商品) = 85 credits
- 急凍肉類 (142 個商品) = 142 credits

**節省配額技巧**：
- 選擇性抓取（只抓重點商品）
- 降低更新頻率
- 使用增量更新（只更新變動商品）

---

### 3. 數據準確性

部分商品可能抓取不完整：
- ✓ 商品名稱：99% 準確
- ✓ 價格：95% 準確
- ⚠️ 重量/屬性：80% 準確（依賴名稱提取）
- ⚠️ 產地：70% 準確

**建議**：
- 重要商品人工驗證
- 定期檢查數據品質
- 回報錯誤幫助改進

---

## ❓ 常見問題

### Q1: 抓取失敗怎麼辦？

**A**:
1. 檢查 URL 是否正確
2. 確認 Firecrawl API Key 有效
3. 檢查 API 配額是否用完
4. 點擊「重試」

---

### Q2: 為什麼有些商品沒有單價？

**A**:
單價計算需要重量資訊：
- 如果商品名稱沒有重量標示
- 系統無法計算單價
- 可以手動補充重量資訊

---

### Q3: AI 分析需要多久？

**A**:
- 小類別 (< 50 商品)：30 秒 - 1 分鐘
- 中類別 (50-150 商品)：1-2 分鐘
- 大類別 (> 150 商品)：2-3 分鐘

---

### Q4: 可以抓取競爭對手網站嗎？

**A**:
可以！只要是公開網站：
- 樂天日本
- Amazon Japan
- 淘寶/天貓
- 其他電商平台

操作相同，只需提供類別頁面 URL

---

## 📈 成功案例

### 案例 1：和牛新品成功定價

**背景**：
- 準備推出新的澳洲 M9 和牛
- 不確定市場價格

**使用類別數據庫**：
1. 抓取「和牛類」85 個商品
2. AI 分析建議 $145-155 / 100g
3. 最終定價 $150 / 100g

**結果**：
- ✓ 價格具競爭力
- ✓ 首月銷售超預期 20%
- ✓ 利潤率符合目標

---

### 案例 2：發現小份量市場機會

**背景**：
- 急凍肉類銷售平平
- 想找新的增長點

**使用類別數據庫**：
1. 抓取「急凍肉類」142 個商品
2. AI 發現小份量 (200-300g) 商品稀少
3. 決定推出小份量包裝

**結果**：
- ✓ 填補市場空白
- ✓ 吸引單身和小家庭客戶
- ✓ 新品線貢獻 15% 營收

---

## 🎯 下一步

完成快速開始後，你可以：

1. **擴展更多類別**
   - 建立 5-10 個核心類別數據庫
   - 覆蓋主要產品線

2. **定期分析**
   - 每週查看 AI 分析報告
   - 識別市場變化

3. **數據驅動決策**
   - 新品定價參考數據
   - 促銷策略基於分析
   - 採購決策依據機會

4. **持續優化**
   - 根據銷售數據驗證 AI 建議
   - 調整抓取頻率和範圍
   - 改進數據品質

---

**開始建立你的第一個類別數據庫吧！** 🚀

有問題隨時查看[完整設計文檔](類別數據庫系統設計.md)
